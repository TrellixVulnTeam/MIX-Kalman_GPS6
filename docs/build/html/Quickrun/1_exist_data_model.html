<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1: Inference and train with existing models and datasets &mdash; MIX-Kalman 0.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2: Train with customized datasets" href="2_new_data_model.html" />
    <link rel="prev" title="&lt;no title&gt;" href="quickrun.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MIX-Kalman
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getstart/get_started.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getstart/model_zoo.html">Benchmark and Model Zoo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick Run</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1: Inference and train with existing models and datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#inference-with-existing-models">Inference with existing models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-existing-models-on-existing-datasets">Test existing models on existing datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prepare-datasets">Prepare datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prepare-model-checkpoint">Prepare model checkpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-existing-models">Test existing models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#train-predefined-models-on-existing-datasets">Train predefined models on existing datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prepare-dataset">Prepare dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#training-on-single-node">Training on single node</a></li>
<li class="toctree-l3"><a class="reference internal" href="#training-on-multiple-nodes">Training on multiple nodes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2_new_data_model.html">2: Train with customized datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_exist_data_new_model.html">3: Train with customized models and existing datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial-engine.html">Tutorial: Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial1-config.html">Tutorial 1: Learn about Configs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial2-customize_dataset.html">Tutorial 2: Customize Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial3-customize_models.html">Tutorial 3: Customize Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial4-customize_Schedule_and_Runtime_Settings.html">Tutorial 4: Customize Schedule and Runtime Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial5-customize_hooks.html">Tutorial 5: Customize hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/Tutorial6-finetune.html">Tutorial 6: Finetuning Models</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Useful Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../log_visualization.html">Log Visualization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sources/mixk.html">mixk package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MIX-Kalman</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="quickrun.html">&lt;no title&gt;</a> &raquo;</li>
      <li>1: Inference and train with existing models and datasets</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Quickrun/1_exist_data_model.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="inference-and-train-with-existing-models-and-datasets">
<h1>1: Inference and train with existing models and datasets<a class="headerlink" href="#inference-and-train-with-existing-models-and-datasets" title="Permalink to this heading"></a></h1>
<p>MIX-Kalman provides multiple existing  models in <a class="reference internal" href="../getstart/model_zoo.html"><span class="doc">Model Zoo</span></a>, and supports multiple standard datasets, including VQA, GQA, OCR-VQA, RefCOCO, VCR, VisDial,etc. This note will show how to perform common tasks on these existing models and standard datasets, including:</p>
<ul class="simple">
<li><p>Use existing models to inference.</p></li>
<li><p>Test existing models on existing datasets.</p></li>
<li><p>Train predefined models on existing datasets.</p></li>
</ul>
<section id="inference-with-existing-models">
<h2>Inference with existing models<a class="headerlink" href="#inference-with-existing-models" title="Permalink to this heading"></a></h2>
<p>We provide a visual interface which can show the inference process and result intuitively, use the VQA task (read text in images and answer questions) as an example.</p>
<p>The demo inference with the existing trained models(i.e.  LXMERT model) and the operating procedures are as follows:</p>
<ol>
<li><p>download the pretrained model weight file of LXMERT <a class="reference external" href="https://mega.nz/file/OW5GEIxb#TeXyG2OhV8ZoQ2ESGZOyhONlK0B9p0qwG4bBSkyIX0c">here</a> and put it in the directory <code class="docutils literal notranslate"><span class="pre">MIX-Kalman/openchat/openchat/model_pth/</span></code>；</p></li>
<li><p>set all paths in <code class="docutils literal notranslate"><span class="pre">config.py</span></code>, including pre-training model checkpoint, image, feature extraction files and so on.</p></li>
<li><p>set the model name in the file <code class="docutils literal notranslate"><span class="pre">MIX-Kalman/openchat/start_demo.py</span></code>；</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">OpenChat</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;vqa_model&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">WebDemoEnv</span><span class="p">())</span>
</pre></div>
</div>
</li>
<li><p>run the demo scripts and get the website of interface.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python start_demo.py
</pre></div>
</div>
<p>then you can get the website <code class="docutils literal notranslate"><span class="pre">127.0.0.1:8080</span></code>.</p>
</li>
<li><p>click on the website, it will show the visual interface.</p>
<p><img alt="startup_interface" src="../_images/startup_interface.png" /></p>
</li>
<li><p>click on the button <code class="docutils literal notranslate"><span class="pre">Browse</span></code> to choose an image in your computer for inference.</p></li>
<li><p>then ask questions in the dialog box, and it will give you an answer.</p>
<p><img alt="VQA_dialog" src="../_images/VQA_dialog.png" /></p>
</li>
</ol>
</section>
<section id="test-existing-models-on-existing-datasets">
<h2>Test existing models on existing datasets<a class="headerlink" href="#test-existing-models-on-existing-datasets" title="Permalink to this heading"></a></h2>
<p>MIX-Kalman provides multiple existing models in <a class="reference internal" href="../getstart/model_zoo.html"><span class="doc">Model Zoo</span></a>, use <a class="reference external" href="https://github.com/inspur-hsslab/MIX-Kalman/tree/master/configs/lxmert/LXMERT.md">LXMERT</a> as an example. LXMERT support three downstream tasks, choose VQA as an example. Before test the LXMERT model on VQA task, you should do the following two steps:</p>
<ul class="simple">
<li><p>download the necessary data file according to the source code paper;</p></li>
<li><p>download the existing model pth file according to the LXMERT readme.</p></li>
</ul>
<section id="prepare-datasets">
<h3>Prepare datasets<a class="headerlink" href="#prepare-datasets" title="Permalink to this heading"></a></h3>
<p>In MIX-Kalman, we directly use the  extracted feature files refer to the source code paper. The steps are as follows:</p>
<ul>
<li><p>Download the feature and annotation files like <code class="docutils literal notranslate"><span class="pre">train.json</span></code>, <code class="docutils literal notranslate"><span class="pre">trainval_ans2label.json</span></code>, <code class="docutils literal notranslate"><span class="pre">train2014_obj36.tsv</span></code> and so on. You can download the data file according to the original paper or source code of <a class="reference external" href="https://github.com/inspur-hsslab/MIX-Kalman/tree/master/configs/lxmert/LXMERT.md">LXMERT</a>;</p></li>
<li><p>put all those files outside the project directory and symlink the dataset root to <code class="docutils literal notranslate"><span class="pre">MIX-Kalman/configs/_base_/datasets/lxmert/lxmert_vqa.py</span></code> as below;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>data_root = &#39;/home/datasets/mix_data/lxmert/&#39;
feature_path = &#39;mscoco_imgfeat/&#39;
annotation_path = &#39;vqa/&#39;
...
</pre></div>
</div>
</li>
</ul>
<p>If your folder structure is different, you may need to change the corresponding paths in config files.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>MIX-Kalman
├── configs
│   ├── _base_
│   │   ├── datasets
│   │   │   ├── lxmert
│   │   │   │   ├── lxmert_vqa.py
</pre></div>
</div>
</section>
<section id="prepare-model-checkpoint">
<h3>Prepare model checkpoint<a class="headerlink" href="#prepare-model-checkpoint" title="Permalink to this heading"></a></h3>
<p>Download the LXMERT model pth file and save it in the directory <code class="docutils literal notranslate"><span class="pre">tools/work_dirs/</span></code>. You can change the path in <code class="docutils literal notranslate"><span class="pre">MIX-Kalman/configs/_base_/default_runtime.py</span></code>.</p>
<p>Model pth file is available <a class="reference external" href="https://mega.nz/file/OW5GEIxb#TeXyG2OhV8ZoQ2ESGZOyhONlK0B9p0qwG4bBSkyIX0c">here</a>. Download the pretrained weights of the existing model in advance, in case the unstable network.</p>
</section>
<section id="test-existing-models">
<h3>Test existing models<a class="headerlink" href="#test-existing-models" title="Permalink to this heading"></a></h3>
<p>Assume that you have already finished the two steps. We provide testing scripts for evaluating an existing model on the whole dataset. The following testing environments are supported:</p>
<ul class="simple">
<li><p>single GPU</p></li>
<li><p>single node multiple GPUs</p></li>
</ul>
<p>Run the script <code class="docutils literal notranslate"><span class="pre">tools/run.py</span></code>  and set the proper parameters to perform testing depending on the testing environment.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>usage: run.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--config-file FILE<span class="o">]</span> <span class="o">[</span>--resume-from RESUME_FROM<span class="o">]</span>
                    <span class="o">[</span>--load-from LOAD_FROM<span class="o">]</span> <span class="o">[</span>--eval-only<span class="o">]</span> <span class="o">[</span>--build-submit<span class="o">]</span>
                    <span class="o">[</span>--gpus GPUS<span class="o">]</span> <span class="o">[</span>--machines MACHINES<span class="o">]</span>
                    <span class="o">[</span>--node-rank NODE_RANK<span class="o">]</span> <span class="o">[</span>--work-dir WORK_DIR<span class="o">]</span>
                    <span class="o">[</span>--seed SEED<span class="o">]</span> <span class="o">[</span>--master-port MASTER_PORT<span class="o">]</span>
                    <span class="o">[</span>--master-addr MASTER_ADDR<span class="o">]</span>
</pre></div>
</div>
<p>There are some key arguments, including:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">–-config-file</span></code>:  set the train config file path;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--eval-only</span></code>:  once you set it, it means test mode;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--load-from</span></code>:  only loads the model weights;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--gpus</span> </code>:  set the number of GPU.</p></li>
</ol>
<p>Refer to  <a class="reference internal" href="../tutorials/Tutorial1-config.html"><span class="doc">tutorial1</span></a> to see the script parameter in detail.</p>
<p><strong>Examples</strong></p>
<p>Test LXMERT model and VQA task through single machine. Config and model checkpoint file is available <a class="reference external" href="https://github.com/inspur-hsslab/MIX-Kalman/tree/master/configs/lxmert/">here</a>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">#single node and single GPU</span>
python tools/run.py <span class="se">\</span>
--config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--eval-only  <span class="se">\</span>
--load-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">1</span>
<span class="c1">#single node and multiple GPUs(4)</span>
python tools/run.py <span class="se">\</span>
--config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--eval-only  <span class="se">\</span>
--load-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">4</span>
</pre></div>
</div>
<p><strong>Note</strong>：</p>
<p>Either in train or test, you can set the batch size by modifying <code class="docutils literal notranslate"><span class="pre">samples_per_gpu</span></code> in the dataset config, which is as below:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">train_data</span> <span class="o">=</span> dict<span class="o">(</span><span class="nv">samples_per_gpu</span><span class="o">=</span><span class="m">2</span>, ...<span class="o">)</span>
<span class="nv">test_data</span> <span class="o">=</span> dict<span class="o">(</span><span class="nv">samples_per_gpu</span><span class="o">=</span><span class="m">2</span>, ...<span class="o">)</span>
</pre></div>
</div>
</section>
</section>
<section id="train-predefined-models-on-existing-datasets">
<h2>Train predefined models on existing datasets<a class="headerlink" href="#train-predefined-models-on-existing-datasets" title="Permalink to this heading"></a></h2>
<p>MIX-Kalman provides out-of-the-box tools for training models. This section introduce how to train <em>predefined</em> models (under <a class="reference external" href="https://github.com/inspur-hsslab/MIX-Kalman/tree/master/configs">configs</a>) on existing datasets (i.e. VQA).</p>
<p><strong>Note:</strong> According to the <a class="reference external" href="https://arxiv.org/abs/1706.02677">linear scaling rule</a>, you need to set the learning rate proportional to the batch size if you use different GPUs or samples per GPU. For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">lr=0.01</span></code> for 4 GPUs * 2 imgs/gpu; <code class="docutils literal notranslate"><span class="pre">lr=0.08</span></code> for 16 GPUs * 4 imgs/gpu.</p>
<section id="prepare-dataset">
<h3>Prepare dataset<a class="headerlink" href="#prepare-dataset" title="Permalink to this heading"></a></h3>
<p>Training requires preparing dataset too. See section <a class="reference external" href="#prepare-datasets">Prepare datasets</a> for details.</p>
</section>
<section id="training-on-single-node">
<h3>Training on single node<a class="headerlink" href="#training-on-single-node" title="Permalink to this heading"></a></h3>
<p>We also use script <code class="docutils literal notranslate"><span class="pre">tools/run.py</span></code> to launch training jobs on a single GPU.
The basic usage is as follows.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python tools/run.py <span class="se">\</span>
    <span class="si">${</span><span class="nv">CONFIG_FILE</span><span class="si">}</span> <span class="se">\</span>
    <span class="o">[</span>optional arguments<span class="o">]</span>
</pre></div>
</div>
<p>There are some other key arguments:</p>
<ol>
<li><p><code class="docutils literal notranslate"><span class="pre">--resume-from</span></code>: resume from a previous checkpoint file.</p>
<p><code class="docutils literal notranslate"><span class="pre">resume-from</span></code> loads both the model weights and optimizer status, and the epoch is also inherited from the specified checkpoint. It is usually used for resuming the training process that is interrupted accidentally. <code class="docutils literal notranslate"><span class="pre">--load-from</span></code>  only loads the model weights;</p>
</li>
<li><p>During training, log files and checkpoints will be saved to the working directory, which can be  set by two methods:</p>
<ul class="simple">
<li><p>specify <code class="docutils literal notranslate"><span class="pre">work_dir</span></code> in the <code class="docutils literal notranslate"><span class="pre">configs/_base_/default_time.py</span> </code>file;</p></li>
<li><p>set <code class="docutils literal notranslate"><span class="pre">--work-dir</span></code> argument in the script.</p></li>
</ul>
</li>
</ol>
<p>Optional arguments remain the same as stated <a class="reference external" href="#test-existing-models">above</a>. Refer to <a class="reference internal" href="../tutorials/Tutorial1-config.html"><span class="doc">Tutorial1</span></a> to see the script parameter in detail.</p>
<p><strong>Examples</strong></p>
<p>Train LXMERT model and VQA task through single machine. Config and model checkpoint file is available <a class="reference external" href="https://github.com/inspur-hsslab/MIX-Kalman/tree/master/configs/lxmert/">here</a>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">#single node and single GPU</span>
python tools/run.py <span class="se">\</span>
--config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--load-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">1</span>
<span class="c1"># or</span>
python tools/run.py <span class="se">\</span>
--config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--resume-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">1</span>

<span class="c1">#single node and multiple GPUs(4)</span>
python tools/run.py <span class="se">\</span>
–-config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--load-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">4</span>
<span class="c1"># or</span>
python tools/run.py <span class="se">\</span>
–-config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--resume-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">4</span>
</pre></div>
</div>
<p><strong>Note</strong>：</p>
<ol>
<li><p>Before training, you can set <code class="docutils literal notranslate"><span class="pre">by_iter</span></code> in the <code class="docutils literal notranslate"><span class="pre">configs/_base_/schedules/schedule***.py</span></code> to determine <code class="docutils literal notranslate"><span class="pre">train</span> <span class="pre">by</span> <span class="pre">iter</span></code> or <code class="docutils literal notranslate"><span class="pre">train</span> <span class="pre">by</span> <span class="pre">epoch</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># by_iter = True  # the train mode is by iter if true, is by epoch if annotated</span>
<span class="n">total_epochs</span> <span class="o">=</span> <span class="mi">8</span>  <span class="c1"># the num of epoch</span>
</pre></div>
</div>
</li>
<li><p>Also you can set the <code class="docutils literal notranslate"><span class="pre">eval_period</span></code> in the dataset config to determine the evaluation frequency when <code class="docutils literal notranslate"><span class="pre">train_by_iter</span></code>.</p>
<ul class="simple">
<li><p>eval_period set to 0 means disable evaluation;</p></li>
<li><p>when the you choose train by epoch mode, it will evaluate the model every epoch in default.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">test_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="o">...</span>
    <span class="n">eval_period</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># evaluate the model every 5 batchs in train_by_iter mode.</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="training-on-multiple-nodes">
<h3>Training on multiple nodes<a class="headerlink" href="#training-on-multiple-nodes" title="Permalink to this heading"></a></h3>
<p>MIX-Kalman relies on <code class="docutils literal notranslate"><span class="pre">torch.distributed</span></code> package for distributed training. Thus, as a basic usage, one can launch distributed training via PyTorch’s <a class="reference external" href="https://pytorch.org/docs/stable/distributed.html#launch-utility">launch utility</a>.</p>
<p><strong>Examples</strong></p>
<p>Train LXMERT model and VQA task through single machine. Config and model checkpoint file is available <a class="reference external" href="https://github.com/inspur-hsslab/MIX-Kalman/tree/master/configs/lxmert/">here</a>.</p>
<p>There is one other key argument: <code class="docutils literal notranslate"><span class="pre">--node-rank</span></code>: the rank of current node(unique per machine).</p>
<p>Optional arguments remain the same as stated <a class="reference external" href="#test-existing-models">above</a>. Refer to <a class="reference internal" href="../tutorials/Tutorial1-config.html"><span class="doc">Tutorial1</span></a> to see the script parameter in detail.</p>
<p><strong>Examples</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">#machine0</span>
python tools/run.py <span class="se">\</span>
--config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--load-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">8</span> <span class="se">\</span>
--node-rank <span class="m">0</span> <span class="se">\</span>
--machines <span class="m">2</span> <span class="se">\</span>
--master-addr <span class="s1">&#39;tcp://&#39;</span> <span class="se">\</span>
--master-port  <span class="m">8889</span> <span class="o">[</span>--other-flags<span class="o">]</span>
<span class="c1">#machine1</span>
python tools/run.py <span class="se">\</span>
--config-file configs/lxmert/lxmert_vqa.py <span class="se">\</span>
--load-from ./work_dirs/lxmert_vqa.pth <span class="se">\</span>
--gpus <span class="m">8</span> <span class="se">\</span>
--node-rank <span class="m">1</span> <span class="se">\</span>
--machines <span class="m">2</span> <span class="se">\</span>
--master-addr <span class="s1">&#39;tcp://&#39;</span> <span class="se">\</span>
--master-port  <span class="m">8889</span> <span class="o">[</span>--other-flags<span class="o">]</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickrun.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2_new_data_model.html" class="btn btn-neutral float-right" title="2: Train with customized datasets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, MIX-Kalman inspur.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>